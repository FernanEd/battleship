{"version":3,"sources":["components/TitleScreen.js","gameboardLogic.js","components/Cell.js","components/PlacingBoats.js","components/Gameboard.js","cpuLogic.js","components/Game.js","App.js","Credits.js","index.js"],"names":["TitleScreen","nextScreen","changeDifficulty","className","onClick","giveShipCoords","boardWidth","selectedCoord","pieceLength","pieceAxis","coordsArray","newCoord","shiftAxis","i","push","index","arrayWidth","factoryGameboard","generateBoard","boats","boatsCoords","hitsCoords","missesCoords","placeShip","coord","axis","isSunk","coords","updateBoatCoords","map","boat","flat","placeComputerShips","forEach","shipLength","cellCoord","Math","floor","random","round","shipPotentialCoords","some","includes","getBoatsCoords","getHitsCoords","getMissesCoords","receiveAttack","every","checkGameOver","length","Cell","isPlayerBoard","isHit","isBoat","isMiss","handleClick","PlacingBoats","playerBoard","pieces","useState","currentPiece","setCurrentPiece","hoverCells","setHoverCells","setAxis","setPieceLength","Array","a","onMouseEnter","cellIndex","cells","handleHover","lastPiece","Gameboard","isPlayerTurn","changeTurn","computerDifficulty","isGameover","makeGameOver","gameboard","setGameboard","useEffect","newBoard","markSpot","newGameboard","makeCPUmove","difficulty","usedCoords","cheatChance","makeCheatMove","number","makeRandomMove","boardAnalisis","Game","setIsPlayerTurn","setIsGameover","winner","setWinner","didPlayerWin","App","currentScreen","setCurrentScreen","setComputerDifficulty","setPlayerBoard","current","id","newDifficulty","Copyright","href","target","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sMAEe,SAASA,EAAT,GAAwD,IAAjCC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,iBAChD,OACE,gCACE,4CACA,uDACA,sBAAKC,UAAU,qBAAf,UACE,sBACEC,QAAS,WACPF,EAAiB,GACjBD,KAEFE,UAAU,kBALZ,UAOE,cAAC,IAAD,IAPF,UAUA,sBACEC,QAAS,WACPF,EAAiB,GACjBD,KAEFE,UAAU,kBALZ,UAOE,cAAC,IAAD,IAPF,WAUA,sBACEC,QAAS,WACPF,EAAiB,GACjBD,KAEFE,UAAU,kBALZ,UAOE,cAAC,IAAD,IAPF,oB,WC1BFE,EAAiB,SAACC,EAAYC,EAAeC,EAAaC,GAC9D,IAAIC,EAAc,GAEdC,EACY,IAAdF,EAAkBF,EAAgBK,EAAUL,EAAeD,GAQ7D,KAAMA,EAAcK,EAAWL,GAAeE,GAC5C,OAAO,KAGT,IAAK,IAAIK,EAAIF,EAAUE,EAAIF,EAAWH,EAAaK,IAC/B,IAAdJ,EAAiBC,EAAYI,KAAKD,GACjCH,EAAYI,KAAKF,EAAUC,EAAGP,IAGrC,OAAOI,GAIT,SAASE,EAAUG,EAAOC,GAGxB,OAAQD,EAAQC,EAAcA,EAAa,GAAMD,EAAQC,EAAc,GAKzE,SAASC,EAAiBX,EAAYY,GACpC,IAAIC,EAAQ,GAERC,EAAc,GACdC,EAAa,GACbC,EAAe,GAGbC,EAAY,SAACC,EAAOhB,EAAaiB,GACrCN,EAAML,KAAK,CACTY,QAAQ,EACRlB,cACAmB,OAAQtB,EAAeC,EAAYkB,EAAOhB,EAAaiB,KAGzDG,KAoBIA,EAAmB,WACvBR,EAAcD,EAAMU,KAAI,SAACC,GAAD,OAAUA,EAAKH,UAAQI,QAO3CC,EAAqB,WACP,CAAC,EAAG,EAAG,EAAG,EAAG,GAEnBC,SAAQ,SAACC,GAYnB,IAXA,IAAIC,EAAYC,KAAKC,MAAsB,GAAhBD,KAAKE,UAC5Bb,EAAOW,KAAKG,MAAMH,KAAKE,UACvBE,EAAsBnC,EACxBC,EACA6B,EACAD,EACAT,GAMwB,OAAxBe,GACAA,EAAoBC,MAAK,SAACjB,GAAD,OAAWJ,EAAYsB,SAASlB,OAEzDW,EAAYC,KAAKC,MAAsB,GAAhBD,KAAKE,UAC5Bb,EAAOW,KAAKG,MAAMH,KAAKE,UACvBE,EAAsBnC,EACpBC,EACA6B,EACAD,EACAT,GAKJF,EAAUY,EAAWD,EAAYT,OAIjCP,GAAec,IAMnB,MAAO,CACLW,eALqB,kBAAMvB,GAM3BwB,cALoB,kBAAMvB,GAM1BwB,gBALsB,kBAAMvB,GAM5BC,YACAuB,cA5DoB,SAACtB,GACjBJ,EAAYsB,SAASlB,GAAQH,EAAWP,KAAKU,GAC5CF,EAAaR,KAAKU,GAXvBL,EAAMc,SAAQ,SAACH,GACIA,EAAXH,OAEKoB,OAAM,SAACvB,GAAD,OAAWH,EAAWqB,SAASlB,QAC9CM,EAAKJ,QAAS,OAkElBsB,cAlDoB,WACpB,OAAO5B,EAAY6B,OAAS,GAAK9B,EAAM4B,OAAM,SAACjB,GAAD,OAAUA,EAAKJ,WAkD5DM,sBC7HW,SAASkB,EAAT,GAOX,IANFC,EAMC,EANDA,cACAC,EAKC,EALDA,MACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,OACAvC,EAEC,EAFDA,MACAwC,EACC,EADDA,YAGA,OAAIJ,EAEA,qBACEhD,UAAWiD,EAAQ,MAAQC,EAAS,OAASC,EAAS,OAAS,SAMnE,qBACElD,QAAS,kBAAMmD,EAAYxC,IAC3BZ,UAAWiD,EAAQ,MAAQE,EAAS,OAAS,SChBpC,SAASE,EAAT,GAA+D,IAAvCC,EAAsC,EAAtCA,YAAalC,EAAyB,EAAzBA,UAAWtB,EAAc,EAAdA,WAEvDK,EAAa,GACboD,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,GAH+C,EAIrCC,mBAAS,GAJ4B,mBAItEC,EAJsE,KAIxDC,EAJwD,OAMvCF,mBAAS,IAN8B,mBAMpEG,EANoE,KAMxDC,EANwD,OAOnDJ,mBAAS,GAP0C,mBAOpElC,EAPoE,KAO9DuC,EAP8D,OAQrCL,mBAASD,EAAOE,IARqB,mBAQpEpD,EARoE,KAQvDyD,EARuD,KAqD3E,OACE,sBAAK9D,UAAU,kBAAf,UACE,wBAAQA,UAAU,oBAAoBC,QANvB,WACjB4D,EAAiB,IAATvC,EAAa,EAAI,IAKvB,wBAGA,qBAAKtB,UAAU,iBAAf,SACG,YAAI,IAAI+D,MAAM5D,MAA0BuB,KAAI,SAACsC,EAAGtD,GAAO,IAAD,EACP,CAC5C4C,EAAYd,iBACZc,EAAYb,gBACZa,EAAYZ,mBAHTzB,EADgD,KAMrD,OACE,qBAEEL,MAAOF,EACPuD,aAAc,kBAtCN,SAACC,GACnB,IAAI1D,EAAoB,IAATc,EAAa4C,EAAYzD,EAAUyD,EAAW/D,GAE7D,GAAMA,EAAcK,EAAWL,GAAeE,EAA9C,CAOA,IAFA,IAAI8D,EAAQ,GAEHzD,EAAIF,EAAUE,EAAIF,EAAWH,EAAaK,IACpC,IAATY,EAAY6C,EAAMxD,KAAKD,GACtByD,EAAMxD,KAAKF,EAAUC,EAAGP,IAG/ByD,EAAcO,QAXZP,EAAc,IAkCcQ,CAAY1D,IAChCT,QAAS,kBA3DD,SAACiE,GACnB,IAAI7B,EAAsBnC,EACxBC,EACA+D,EACA7D,EACAiB,GAEEL,EAAcqC,EAAYd,iBAE9B,GACEH,GACAA,EAAoBO,OAAM,SAACvB,GAAD,OAAYJ,EAAYsB,SAASlB,MAC3D,CACA,IAAIgD,EAAYZ,EAChBC,EAAgBW,EAAY,GAC5BP,EAAeP,EAAOc,EAAY,IAClCjD,EAAU8C,EAAW7D,EAAaiB,IA2CX8B,CAAY1C,IAC3BV,UACEiB,EAAYsB,SAAS7B,GACjB,OACAiD,EAAWpB,SAAS7B,GACpB,UACA,QATDA,QAeZ+C,GAAgBF,EAAOT,OACtB,wBAAQ9C,UAAU,kBAAkBC,QAASH,EAA7C,wBAGE,QCrFK,SAASwE,EAAT,GAQX,IAPFhB,EAOC,EAPDA,YACAN,EAMC,EANDA,cACAuB,EAKC,EALDA,aACAC,EAIC,EAJDA,WACAC,EAGC,EAHDA,mBACAC,EAEC,EAFDA,WACAC,EACC,EADDA,aACC,EAGiCnB,mBAChC1C,EAFiB,IAEakC,IAJ/B,mBAGM4B,EAHN,KAGiBC,EAHjB,KAQDC,qBAAU,WACR,GAAI9B,EAAe,CACjB,IAAI+B,EAAQ,eAAQzB,GACpBuB,EAAaE,MAEd,IAEH,IAAMC,EAAW,SAAC3D,GAChB,IAAI4D,EAAY,eAAQL,GACxBK,EAAatC,cAActB,GAC3BwD,EAAaI,GAGTL,EAAU/B,iBACZ8B,EAAaJ,IAIXW,EAAc,WAAO,IAAD,EACsB,CAC5CN,EAAUpC,iBACVoC,EAAUnC,gBACVmC,EAAUlC,mBAHMxB,EADM,KACMC,EADN,KAMxB6D,EC7CW,SAAuBG,EAAYlE,EAAamE,GAC7D,IAyBIC,EAA6B,IAAfF,EAAmB,GAAoB,IAAfA,EAAmB,GAAK,EAKlE,OAHclD,KAAKG,MAAsB,IAAhBH,KAAKE,UACLkD,EAhBH,WAKpB,IAJA,IAAIzE,EAAQqB,KAAKC,MAAMD,KAAKE,SAAWlB,EAAY6B,QAC/CpC,EAAI,EAGD0E,EAAW7C,SAAStB,EAAYL,KAAWF,EAAI,KACpDE,EAAQqB,KAAKC,MAAMD,KAAKE,SAAWlB,EAAY6B,QAC/CpC,IAEF,OAAOO,EAAYL,GASH0E,GA9BK,WAKrB,IAJA,IAAIC,EAAStD,KAAKC,MAAsB,IAAhBD,KAAKE,UACzBzB,EAAI,EAGD0E,EAAW7C,SAASgD,IAAW7E,EAAI,KACxC6E,EAAStD,KAAKC,MAAsB,IAAhBD,KAAKE,UACzBzB,IAEF,OAAO6E,EAqB2BC,GDehCC,CAAchB,EAPQ,KAOT,sBACRvD,GADQ,YAERC,MAGPqD,KAIIpB,EAAc,SAACc,GAAe,IAAD,EACa,CAC5CU,EAAUpC,iBACVoC,EAAUnC,gBACVmC,EAAUlC,mBAHMxB,EADe,KACHC,EADG,KAO7BiE,EAAU,sBAAOlE,GAAP,YAAsBC,KAChCoD,GAAiBa,EAAW7C,SAAS2B,IAAeQ,IACtDM,EAASd,GACTM,MAUJ,OALAM,qBAAU,WAEHP,IAAgBvB,GAAkB0B,GAAYQ,MAClD,CAACX,IAGF,qBAAKvE,UAAU,iBAAf,SACG,YAAI,IAAI+D,MAAM5D,MAA0BuB,KAAI,SAACsC,EAAGtD,GAAO,IAAD,EACP,CAC5CkE,EAAUpC,iBACVoC,EAAUnC,gBACVmC,EAAUlC,mBAHPzB,EADgD,KACnCC,EADmC,KACvBC,EADuB,KAMrD,OACE,cAAC4B,EAAD,CAEEnC,MAAOF,EACPsC,cAAeA,EACfC,MAAO/B,EAAWqB,SAAS7B,GAC3BwC,OAAQjC,EAAYsB,SAAS7B,GAC7ByC,OAAQhC,EAAaoB,SAAS7B,GAC9B0C,YAAaA,GANR1C,QElFF,SAASgF,EAAT,GAAoD,IAApCpC,EAAmC,EAAnCA,YAAamB,EAAsB,EAAtBA,mBAAsB,EAE1BjB,oBAAS,GAFiB,mBAE3De,EAF2D,KAE7CoB,EAF6C,OAG5BnC,oBAAS,GAHmB,mBAGzDkB,EAHyD,KAG7CkB,EAH6C,OAIpCpC,qBAJoC,mBAIzDqC,EAJyD,KAIjDC,EAJiD,KAM1DtB,EAAa,WAEjBmB,GADepB,IAIXI,EAAe,SAACoB,GACpBH,GAAc,GACIE,EAAdC,EAAwB,SACb,QAKjB,OAFAjB,qBAAU,cAAU,IAGlB,gCACE,qBAAK9E,UAAU,mBAAf,SACE,6BACG0E,EAAU,UACJmB,EADI,UAEPtB,EACA,iBACA,eAIR,sBAAKvE,UAAU,oBAAf,UACE,gCACE,8CACA,cAACsE,EAAD,CACEtB,eAAe,EACfuB,aAAcA,EACdjB,YAAaA,EACbkB,WAAYA,EACZC,mBAAoBA,EACpBC,WAAYA,EACZC,aAAcA,OAGlB,gCACE,gDACA,cAACL,EAAD,CACEtB,eAAe,EACfuB,aAAcA,EACdC,WAAYA,EACZC,mBAAoBA,EACpBC,WAAYA,EACZC,aAAcA,aCjDX,SAASqB,IAAO,IAAD,EACcxC,mBAAS,GADvB,mBACrByC,EADqB,KACNC,EADM,OAGwB1C,mBAAS,GAHjC,mBAGrBiB,EAHqB,KAGD0B,EAHC,OAIU3C,mBAAS1C,EAAiB,IAAI,IAJxC,mBAIrBwC,EAJqB,KAIR8C,EAJQ,KAUtBtG,EAAa,WACjB,IAAIuG,EAAUJ,IACdI,EACc,IAAGA,EAAU,GAE3BH,EAAiBG,IASnB,OACE,qBAAKC,GAAG,UAAR,SACqB,IAAlBL,EACC,cAACpG,EAAD,CACEC,WAAYA,EACZC,iBAvBiB,SAACwG,GACxBJ,EAAsBI,MAwBE,IAAlBN,EACF,gCACE,qBAAKjG,UAAU,mBAAf,SACE,oDAEF,qBAAKA,UAAU,oBAAf,SACE,cAACqD,EAAD,CACEC,YAAaA,EACblC,UArBM,SAACC,EAAOhB,EAAaiB,GACrC,IAAI2D,EAAY,eAAQ3B,GACxB2B,EAAa7D,UAAUC,EAAOhB,EAAaiB,GAC3C8E,EAAenB,IAmBLnF,WAAYA,SAKlB,cAAC4F,EAAD,CACEpC,YAAaA,EACbmB,mBAAoBA,M,YCnDf,SAAS+B,IACtB,OACE,wCACU,IACR,oBAAGC,KAAK,8BAA8BC,OAAO,SAASC,IAAI,aAA1D,UACE,cAAC,IAAD,IADF,cAFF,a,MCEJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACd,EAAD,MAEFe,SAASC,eAAe,SAG1BJ,IAASC,OAAO,cAAC,EAAD,IAAaE,SAASC,eAAe,c","file":"static/js/main.064d49cb.chunk.js","sourcesContent":["import { ImSmile2, ImGrin2, ImEvil2 } from 'react-icons/im';\n\nexport default function TitleScreen({ nextScreen, changeDifficulty }) {\n  return (\n    <div>\n      <h1>Battleship</h1>\n      <h2>Select CPU difficulty</h2>\n      <div className=\"difficulty-wrapper\">\n        <div\n          onClick={() => {\n            changeDifficulty(0);\n            nextScreen();\n          }}\n          className=\"difficulty-item\"\n        >\n          <ImSmile2 />\n          Mild\n        </div>\n        <div\n          onClick={() => {\n            changeDifficulty(1);\n            nextScreen();\n          }}\n          className=\"difficulty-item\"\n        >\n          <ImGrin2 />\n          Spicy\n        </div>\n        <div\n          onClick={() => {\n            changeDifficulty(2);\n            nextScreen();\n          }}\n          className=\"difficulty-item\"\n        >\n          <ImEvil2 />\n          Devilish\n        </div>\n      </div>\n    </div>\n  );\n}\n","// HELPER FUNCTIONS\n\nconst giveShipCoords = (boardWidth, selectedCoord, pieceLength, pieceAxis) => {\n  let coordsArray = [];\n\n  let newCoord =\n    pieceAxis === 0 ? selectedCoord : shiftAxis(selectedCoord, boardWidth);\n\n  // This comparison only works on x pieceAxis, that's why the convertion\n  // The remainder of the cord / boardSize dimention gives\n  // how many cells of offset the selectedCoord has from the first cell of the corresponding row\n  // If the dimension of the board side minus the piece offset\n  // equals the piece lengths it means it will fit perfectly.\n\n  if (!(boardWidth - (newCoord % boardWidth) >= pieceLength)) {\n    return null;\n  }\n\n  for (let i = newCoord; i < newCoord + pieceLength; i++) {\n    if (pieceAxis === 0) coordsArray.push(i);\n    else coordsArray.push(shiftAxis(i, boardWidth));\n  }\n\n  return coordsArray;\n};\n\n// This function works on n * n arrays\nfunction shiftAxis(index, arrayWidth) {\n  // if coord is y axis, convert it to it's correspondant as x axis otherwise leave it as it is\n  // That expresion basically shifts the axis\n  return (index % arrayWidth) * arrayWidth + 1 * ((index / arrayWidth) | 0);\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////\n\nfunction factoryGameboard(boardWidth, generateBoard) {\n  let boats = [];\n\n  let boatsCoords = []; //All coords that are boats\n  let hitsCoords = []; //All coords of boats hits\n  let missesCoords = []; //All coords of missed shots\n\n  //Axis should be either 0 or 1 for x or y\n  const placeShip = (coord, pieceLength, axis) => {\n    boats.push({\n      isSunk: false,\n      pieceLength,\n      coords: giveShipCoords(boardWidth, coord, pieceLength, axis),\n    });\n\n    updateBoatCoords();\n  };\n\n  const checkSunkenShips = () => {\n    boats.forEach((boat) => {\n      let { coords } = boat;\n      //If every coord of the boat IS in hit coords array\n      if (coords.every((coord) => hitsCoords.includes(coord))) {\n        boat.isSunk = true;\n      }\n    });\n  };\n\n  const receiveAttack = (coord) => {\n    if (boatsCoords.includes(coord)) hitsCoords.push(coord);\n    else missesCoords.push(coord);\n\n    checkSunkenShips();\n  };\n\n  const updateBoatCoords = () => {\n    boatsCoords = boats.map((boat) => boat.coords).flat();\n  };\n\n  const checkGameOver = () => {\n    return boatsCoords.length > 0 && boats.every((boat) => boat.isSunk);\n  };\n\n  const placeComputerShips = () => {\n    let shipLengths = [5, 4, 3, 2, 2];\n\n    shipLengths.forEach((shipLength) => {\n      let cellCoord = Math.floor(Math.random() * 99); //From 0 to 99\n      let axis = Math.round(Math.random()); //Either 0 or 1\n      let shipPotentialCoords = giveShipCoords(\n        boardWidth,\n        cellCoord,\n        shipLength,\n        axis\n      );\n\n      // WARNING: The order of these conditions it's important, leftone must evaluate first\n      // If any coord it's already ocuppied, generate new coords\n      while (\n        shipPotentialCoords === null ||\n        shipPotentialCoords.some((coord) => boatsCoords.includes(coord))\n      ) {\n        cellCoord = Math.floor(Math.random() * 99); //From 0 to 99\n        axis = Math.round(Math.random()); //Either 0 or 1\n        shipPotentialCoords = giveShipCoords(\n          boardWidth,\n          cellCoord,\n          shipLength,\n          axis\n        );\n      }\n\n      //Now the cell and axis is addecuate to place a ship\n      placeShip(cellCoord, shipLength, axis);\n    });\n  };\n\n  if (generateBoard) placeComputerShips();\n\n  const getBoatsCoords = () => boatsCoords;\n  const getHitsCoords = () => hitsCoords;\n  const getMissesCoords = () => missesCoords;\n\n  return {\n    getBoatsCoords,\n    getHitsCoords,\n    getMissesCoords,\n    placeShip,\n    receiveAttack,\n    checkGameOver,\n    placeComputerShips,\n  };\n}\n\nexport { factoryGameboard, giveShipCoords, shiftAxis };\n","export default function Cell({\n  isPlayerBoard,\n  isHit,\n  isBoat,\n  isMiss,\n  index,\n  handleClick,\n}) {\n  //For player boat\n  if (isPlayerBoard) {\n    return (\n      <div\n        className={isHit ? 'hit' : isBoat ? 'boat' : isMiss ? 'miss' : 'cell'}\n      ></div>\n    );\n  }\n\n  return (\n    <div\n      onClick={() => handleClick(index)}\n      className={isHit ? 'hit' : isMiss ? 'miss' : 'cell'}\n    ></div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { factoryGameboard, giveShipCoords, shiftAxis } from '../gameboardLogic';\nimport Cell from './Cell';\n\nexport default function PlacingBoats({ playerBoard, placeShip, nextScreen }) {\n  // BOARD STATE\n  const boardWidth = 10;\n  const pieces = [5, 4, 3, 2, 2];\n  let [currentPiece, setCurrentPiece] = useState(0);\n\n  const [hoverCells, setHoverCells] = useState([]);\n  const [axis, setAxis] = useState(0);\n  const [pieceLength, setPieceLength] = useState(pieces[currentPiece]);\n\n  //After this function runs, the useEffect of the bottom is supposed to run\n  const handleClick = (cellIndex) => {\n    let shipPotentialCoords = giveShipCoords(\n      boardWidth,\n      cellIndex,\n      pieceLength,\n      axis\n    );\n    let boatsCoords = playerBoard.getBoatsCoords();\n\n    if (\n      shipPotentialCoords &&\n      shipPotentialCoords.every((coord) => !boatsCoords.includes(coord))\n    ) {\n      let lastPiece = currentPiece;\n      setCurrentPiece(lastPiece + 1);\n      setPieceLength(pieces[lastPiece + 1]);\n      placeShip(cellIndex, pieceLength, axis);\n    }\n  };\n\n  const handleHover = (cellIndex) => {\n    let newCoord = axis === 0 ? cellIndex : shiftAxis(cellIndex, boardWidth);\n\n    if (!(boardWidth - (newCoord % boardWidth) >= pieceLength)) {\n      setHoverCells([]);\n      return;\n    }\n\n    let cells = [];\n\n    for (let i = newCoord; i < newCoord + pieceLength; i++) {\n      if (axis === 0) cells.push(i);\n      else cells.push(shiftAxis(i, boardWidth));\n    }\n\n    setHoverCells(cells);\n  };\n\n  const toggleAxis = () => {\n    setAxis(axis === 0 ? 1 : 0);\n  };\n\n  return (\n    <div className=\"placing-wrapper\">\n      <button className=\"btn btn-secondary\" onClick={toggleAxis}>\n        Shift axis\n      </button>\n      <div className=\"gameboard-grid\">\n        {[...new Array(boardWidth * boardWidth)].map((a, i) => {\n          let [boatsCoords, hitsCoords, missesCoords] = [\n            playerBoard.getBoatsCoords(),\n            playerBoard.getHitsCoords(),\n            playerBoard.getMissesCoords(),\n          ];\n          return (\n            <div\n              key={i}\n              index={i}\n              onMouseEnter={() => handleHover(i)}\n              onClick={() => handleClick(i)}\n              className={\n                boatsCoords.includes(i)\n                  ? 'boat'\n                  : hoverCells.includes(i)\n                  ? 'hovered'\n                  : 'cell'\n              }\n            ></div>\n          );\n        })}\n      </div>\n      {currentPiece >= pieces.length ? (\n        <button className=\"btn btn-primary\" onClick={nextScreen}>\n          Start game\n        </button>\n      ) : null}\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { factoryGameboard, giveShipCoords, shiftAxis } from '../gameboardLogic';\nimport Cell from './Cell';\nimport boardAnalisis from '../cpuLogic';\n\nexport default function Gameboard({\n  playerBoard,\n  isPlayerBoard,\n  isPlayerTurn,\n  changeTurn,\n  computerDifficulty,\n  isGameover,\n  makeGameOver,\n}) {\n  // BOARD STATE\n  const boardWidth = 10;\n  const [gameboard, setGameboard] = useState(\n    factoryGameboard(boardWidth, !isPlayerBoard)\n  );\n\n  //If is the player board, place the boat placement\n  useEffect(() => {\n    if (isPlayerBoard) {\n      let newBoard = { ...playerBoard };\n      setGameboard(newBoard);\n    }\n  }, []);\n\n  const markSpot = (coord) => {\n    let newGameboard = { ...gameboard };\n    newGameboard.receiveAttack(coord);\n    setGameboard(newGameboard);\n\n    //Check for gameovers, end game\n    if (gameboard.checkGameOver()) {\n      makeGameOver(isPlayerTurn);\n    }\n  };\n\n  const makeCPUmove = () => {\n    let [boatsCoords, hitsCoords, missesCoords] = [\n      gameboard.getBoatsCoords(),\n      gameboard.getHitsCoords(),\n      gameboard.getMissesCoords(),\n    ];\n    markSpot(\n      boardAnalisis(computerDifficulty, boatsCoords, [\n        ...hitsCoords,\n        ...missesCoords,\n      ])\n    );\n    changeTurn();\n  };\n\n  //After this function runs, the useEffect of the bottom is supposed to run\n  const handleClick = (cellIndex) => {\n    let [boatsCoords, hitsCoords, missesCoords] = [\n      gameboard.getBoatsCoords(),\n      gameboard.getHitsCoords(),\n      gameboard.getMissesCoords(),\n    ];\n\n    let usedCoords = [...hitsCoords, ...missesCoords];\n    if (isPlayerTurn && !usedCoords.includes(cellIndex) && !isGameover) {\n      markSpot(cellIndex);\n      changeTurn();\n    }\n  };\n\n  // Every time a move is made\n  useEffect(() => {\n    // Make the CPU move on turn change\n    if (!isPlayerTurn && isPlayerBoard && !isGameover) makeCPUmove();\n  }, [isPlayerTurn]);\n\n  return (\n    <div className=\"gameboard-grid\">\n      {[...new Array(boardWidth * boardWidth)].map((a, i) => {\n        let [boatsCoords, hitsCoords, missesCoords] = [\n          gameboard.getBoatsCoords(),\n          gameboard.getHitsCoords(),\n          gameboard.getMissesCoords(),\n        ];\n        return (\n          <Cell\n            key={i}\n            index={i}\n            isPlayerBoard={isPlayerBoard}\n            isHit={hitsCoords.includes(i)}\n            isBoat={boatsCoords.includes(i)}\n            isMiss={missesCoords.includes(i)}\n            handleClick={handleClick}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","export default function boardAnalisis(difficulty, boatsCoords, usedCoords) {\n  const makeRandomMove = () => {\n    let number = Math.floor(Math.random() * 100);\n    let i = 0;\n\n    // i will prevent infinite loops\n    while (usedCoords.includes(number) && i < 100) {\n      number = Math.floor(Math.random() * 100);\n      i++;\n    }\n    return number;\n  };\n\n  const makeCheatMove = () => {\n    let index = Math.floor(Math.random() * boatsCoords.length);\n    let i = 0;\n\n    // i will prevent infinite loops\n    while (usedCoords.includes(boatsCoords[index]) && i < 100) {\n      index = Math.floor(Math.random() * boatsCoords.length);\n      i++;\n    }\n    return boatsCoords[index];\n  };\n\n  // Difficulty: | 0 - Standard | 1 - Smart | 2 - Hard\n  let cheatChance = difficulty === 2 ? 20 : difficulty === 1 ? 10 : 5;\n\n  let randNum = Math.round(Math.random() * 100);\n  let canCheat = randNum < cheatChance;\n\n  return canCheat ? makeCheatMove() : makeRandomMove();\n}\n","import { useEffect, useState } from 'react';\nimport Gameboard from './Gameboard';\n\nexport default function Game({ playerBoard, computerDifficulty }) {\n  //player 0 = human, player 1 = computer\n  let [isPlayerTurn, setIsPlayerTurn] = useState(true);\n  const [isGameover, setIsGameover] = useState(false);\n  const [winner, setWinner] = useState();\n\n  const changeTurn = () => {\n    let lastTurn = isPlayerTurn;\n    setIsPlayerTurn(!lastTurn);\n  };\n\n  const makeGameOver = (didPlayerWin) => {\n    setIsGameover(true);\n    if (didPlayerWin) setWinner('Player');\n    else setWinner('CPU');\n  };\n\n  useEffect(() => {}, []);\n\n  return (\n    <div>\n      <div className=\"gameboard-header\">\n        <h1>\n          {isGameover\n            ? `${winner} wins!`\n            : isPlayerTurn\n            ? 'Make your turn'\n            : 'CPU turn'}\n        </h1>\n      </div>\n\n      <div className=\"gameboard-wrapper\">\n        <div>\n          <h1>Player board</h1>\n          <Gameboard\n            isPlayerBoard={true}\n            isPlayerTurn={isPlayerTurn}\n            playerBoard={playerBoard}\n            changeTurn={changeTurn}\n            computerDifficulty={computerDifficulty}\n            isGameover={isGameover}\n            makeGameOver={makeGameOver}\n          />\n        </div>\n        <div>\n          <h1>Computer board</h1>\n          <Gameboard\n            isPlayerBoard={false}\n            isPlayerTurn={isPlayerTurn}\n            changeTurn={changeTurn}\n            computerDifficulty={computerDifficulty}\n            isGameover={isGameover}\n            makeGameOver={makeGameOver}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport TitleScreen from './components/TitleScreen';\nimport PlacingBoats from './components/PlacingBoats';\nimport Game from './components/Game';\nimport { factoryGameboard, giveShipCoords, shiftAxis } from './gameboardLogic';\n\nexport default function App() {\n  const [currentScreen, setCurrentScreen] = useState(0);\n  //This should be here\n  const [computerDifficulty, setComputerDifficulty] = useState(0);\n  const [playerBoard, setPlayerBoard] = useState(factoryGameboard(10, false));\n\n  const changeDifficulty = (newDifficulty) => {\n    setComputerDifficulty(newDifficulty);\n  };\n\n  const nextScreen = () => {\n    let current = currentScreen;\n    current++;\n    if (current > 2) current = 0;\n\n    setCurrentScreen(current);\n  };\n\n  const placeShip = (coord, pieceLength, axis) => {\n    let newGameboard = { ...playerBoard };\n    newGameboard.placeShip(coord, pieceLength, axis);\n    setPlayerBoard(newGameboard);\n  };\n\n  return (\n    <div id=\"content\">\n      {currentScreen === 0 ? (\n        <TitleScreen\n          nextScreen={nextScreen}\n          changeDifficulty={changeDifficulty}\n        />\n      ) : currentScreen === 1 ? (\n        <div>\n          <div className=\"gameboard-header\">\n            <h1>Place your float</h1>\n          </div>\n          <div className=\"gameboard-wrapper\">\n            <PlacingBoats\n              playerBoard={playerBoard}\n              placeShip={placeShip}\n              nextScreen={nextScreen}\n            />\n          </div>\n        </div>\n      ) : (\n        <Game\n          playerBoard={playerBoard}\n          computerDifficulty={computerDifficulty}\n        />\n      )}\n    </div>\n  );\n}\n","import { AiFillGithub } from 'react-icons/ai';\n\nexport default function Copyright() {\n  return (\n    <p>\n      Made by{' '}\n      <a href=\"https://github.com/FernanEd\" target=\"_blank\" rel=\"noreferrer\">\n        <AiFillGithub />\n        FernanEd\n      </a>\n      . 2020.\n    </p>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Credits from './Credits';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nReactDOM.render(<Credits />, document.getElementById('credits'));\n"],"sourceRoot":""}